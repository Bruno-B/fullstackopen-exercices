[{"/home/bruno/Documents/web-dev/fullstackopen/part-2/data-for-countries/src/App.js":"1","/home/bruno/Documents/web-dev/fullstackopen/part-2/data-for-countries/src/index.js":"2"},{"size":2924,"mtime":1606728107965,"results":"3","hashOfConfig":"4"},{"size":410,"mtime":1606686800947,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"8"},"1h0uydt",{"filePath":"9","messages":"10","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/bruno/Documents/web-dev/fullstackopen/part-2/data-for-countries/src/App.js",["11","12","13","14"],"import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nfunction App() {\n  const [countries, setCountries] = useState([]);\n  const [countrySearch, setCountrySearch] = useState(\"\");\n  const [selected, setSelected] = useState();\n  const API_KEY = process.env.REACT_APP_API_KEY;\n  const [weather, setWeather] = useState(\"\");\n  console.log(API_KEY)\n  function handleCountrySearch(e) {\n    setCountrySearch(e.target.value);\n  }\n\n  useEffect(() => {\n    axios\n      .get(\n        `https://restcountries.eu/rest/v2/name/${countrySearch}?fullText=false`\n      )\n      .then((response) => {\n        setCountries(response.data);\n      });\n    if (countries.length === 1)\n      axios\n        .get(\n          `http://api.weatherstack.com/current?access_key=${API_KEY}&query=${countries[0].capital}&units=m`\n        )\n        .then((response) => {\n          setWeather(response.data);\n        });\n  }, [countrySearch]);\n  return (\n    <div className=\"App\">\n      Find countries\n      <input onChange={handleCountrySearch} value={countrySearch} />\n      <br />\n      {countries.lenght === 0 ? (\n        <p>Search a country</p>\n      ) : countries.length === 1 && weather != \"\" ? (\n        <Details country={countries[0]} weather={weather} />\n      ) : countries.length > 10 ? (\n        <p>Too many</p>\n      ) : (\n        countries.map((country, index) => {\n          if (index === selected) {\n            return <Details country={country} weather={weather} />;\n          } else {\n            return (\n              <div>\n                <p key={country.name}>\n                  {country.name}\n\n                  <button\n                    onClick={() => {\n                      setSelected(index);\n                    }}\n                  >\n                    Show\n                  </button>\n                </p>\n              </div>\n            );\n          }\n        })\n      )}\n    </div>\n  );\n}\n\nconst Details = ({ country, weather }) => {\n  console.log(weather);\n  return (\n    <div>\n      <Info country = {country} />\n      <Weather country = {country} weather = {weather} />\n    </div>\n  );\n};\n\nfunction Info({country}) {\n  return (\n    <div>\n      <h1>{country.name}</h1>\n      <p>capital {country.capital}</p>\n      <p>population {country.population}</p>\n      <h2>Languages</h2>\n      {country.languages.map((language) => {\n        return (\n          <ul>\n            <li>{language.name}</li>\n          </ul>\n        );\n      })}\n      <h2>Flag</h2>\n      <img style={{ maxWidth: 250 }} src={country.flag} />\n    </div>\n  );\n}\n\nfunction Weather({weather,country}) {\n  return (\n    <div>\n      <h2>Weather in {country.capital} </h2>\n      <p>Temperature: {weather.current.temperature} Celsius </p>\n      <img src={weather.current.weather_icons} />\n      <p>\n        Wind:{weather.current.wind_speed} mph direction{\" \"}\n        {weather.current.wind_dir}{\" \"}\n      </p>\n    </div>\n  );\n}\n\nexport default App;\n","/home/bruno/Documents/web-dev/fullstackopen/part-2/data-for-countries/src/index.js",[],{"ruleId":"15","severity":1,"message":"16","line":30,"column":6,"nodeType":"17","endLine":30,"endColumn":21,"suggestions":"18"},{"ruleId":"19","severity":1,"message":"20","line":38,"column":45,"nodeType":"21","messageId":"22","endLine":38,"endColumn":47},{"ruleId":"23","severity":1,"message":"24","line":94,"column":7,"nodeType":"25","endLine":94,"endColumn":59},{"ruleId":"23","severity":1,"message":"24","line":104,"column":7,"nodeType":"25","endLine":104,"endColumn":50},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'API_KEY' and 'countries'. Either include them or remove the dependency array.","ArrayExpression",["26"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",{"desc":"27","fix":"28"},"Update the dependencies array to be: [API_KEY, countries, countrySearch]",{"range":"29","text":"30"},[905,920],"[API_KEY, countries, countrySearch]"]